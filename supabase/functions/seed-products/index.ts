import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

const corsHeaders = {
  "Access-Control-Allow-Origin": "*",
  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
};

Deno.serve(async (req) => {
  if (req.method === "OPTIONS") return new Response(null, { headers: corsHeaders });

  const supabase = createClient(
    Deno.env.get("SUPABASE_URL")!,
    Deno.env.get("SUPABASE_SERVICE_ROLE_KEY")!
  );

  try {
    // Insert categories
    const categories = [
      { name: "Composiet Gevelbekleding", slug: "gevelbekleding", description: "Premium composiet gevelbekleding die jarenlang mooi blijft. Weerbestendig en onderhoudsvriendelijk.", image_url: "https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/categories/gevelbekleding-hero.png", seo_title: "Composiet Gevelbekleding Kopen | Schuttingvancomposiet.nl", seo_description: "Premium composiet gevelbekleding met Co-Extrusie beschermlaag. Onderhoudsvrij, UV-bestendig en 15 jaar garantie. Bekijk ons assortiment.", sort_order: 1 },
      { name: "Composiet Schuttingen", slug: "schuttingen", description: "Premium composiet schuttingen die jarenlang meegaan. Onderhoudsvrij en stijlvol.", image_url: "https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/categories/schuttingen-hero.png", seo_title: "Composiet Schuttingen Kopen | Schuttingvancomposiet.nl", seo_description: "Duurzame composiet schuttingen met extra dikke planken. Onderhoudsvrij, stormbestendig en 15 jaar garantie. Bestel direct online.", sort_order: 2 },
      { name: "Composiet Vlonderplanken", slug: "vlonderplanken", description: "Premium composiet vlonderplanken voor uw terras. Splintervrij, weerbestendig en stijlvol.", image_url: "https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/categories/vlonderplanken-hero.png", seo_title: "Composiet Vlonderplanken Kopen | Schuttingvancomposiet.nl", seo_description: "Composiet vlonderplanken voor een prachtig terras. Splintervrij, antislip en onderhoudsvrij. Bestel bij Schuttingvancomposiet.nl.", sort_order: 3 },
    ];

    const { data: catData, error: catErr } = await supabase.from("cms_categories").upsert(categories, { onConflict: "slug" }).select();
    if (catErr) throw catErr;
    const catMap: Record<string, string> = {};
    for (const c of catData!) catMap[c.slug] = c.id;

    // Products data
    const products = [
      // GEVELBEKLEDING
      { name: "Composiet gevelbekleding Rhombus Teak", slug: "rhombus-teak", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "teak", durability: "premium", product_type: "plank", short_description: "De composiet gevelbekleding Rhombus in de kleur Teak geeft uw gevel een warme, natuurlijke uitstraling. Dankzij de co-extrusie beschermlaag is de plank extra bestendig tegen UV-straling, krassen en vlekken.", seo_title: "Composiet Gevelbekleding Rhombus Teak Kopen | €25,95", seo_description: "Composiet gevelbekleding Rhombus Teak met co-extrusie beschermlaag. UV-bestendig, onderhoudsvrij en 15 jaar garantie. Bestel nu bij Schuttingvancomposiet.nl.", long_description: "## Composiet gevelbekleding Rhombus Teak\n\nGeef jouw woning, schuur of uitbouw een moderne en hoogwaardige uitstraling met onze composiet gevelbekleding in Rhombus-profiel. De planken zijn voorzien van een co-extrusie beschermlaag, waardoor ze geen vocht opnemen, kleurvast blijven en extreem lang meegaan.\n\n### Duurzaam en onderhoudsvrij\n\nDe combinatie van gerecycled kunststof en houtvezels maakt de productie van deze gevelbekleding zeer duurzaam. Tijdens productie ontstaat geen restmateriaal. Deze materialen zorgen voor ongevoeligheid voor rot, schimmel en verkleuring. Je hoeft nooit meer te schilderen en dankzij de co-extrusie laag blijft het oppervlak kleurvast en eenvoudig te reinigen. De vochtopname is 0%.\n\n### Flexibele montage\n\nOf je nu kiest voor horizontale of verticale plaatsing, de planken zijn in beide richtingen eenvoudig vast te schroeven op het regelwerk. We leveren standaard schroeven mee bij elke plank.\n\n### Voordelen in één oogopslag\n\n- Natuurlijke houtstructuur met duurzame co-extrusie beschermlaag\n- Extreem duurzame productie bestaand uit 95% gerecycled materiaal\n- Kleurvast, rotvrij en onderhoudsarm\n- Geen schilderwerk nodig, eenvoudig te reinigen\n- Perfect voor elk klimaat\n- Snel en flexibel te monteren met bijpassende profielen", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Teak", Profiel: "Rhombus" }, highlights: ["Co-extrusie beschermlaag", "UV-bestendig & kleurvast", "Onderhoudsvrij", "Eenvoudige montage", "Eigen bezorgservice"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-teak.png"], faq: [{ question: "Wat is co-extrusie?", answer: "Co-extrusie is een extra beschermlaag die tijdens het productieproces op de composiet plank wordt aangebracht. Dit zorgt voor extra bescherming tegen UV-straling, krassen en vlekken." }, { question: "Hoe monteer ik de gevelbekleding?", answer: "De gevelbekleding wordt bevestigd op een aluminium regelwerk met behulp van RVS schroeven. We raden aan om een ventilatieopening van minimaal 25mm aan te houden." }, { question: "Hoeveel planken heb ik nodig?", answer: "Elke plank bedekt 0,58 m². Meet uw geveloppervlak en deel dit door 0,58 om het benodigde aantal planken te berekenen. Reken 5-10% extra voor zaagverlies." }, { question: "Is de gevelbekleding geschikt voor elk klimaat?", answer: "Ja, de composiet gevelbekleding is bestand tegen alle weersomstandigheden. De vochtopname is 0%, waardoor de planken niet uitzetten, krimpen of vervormen bij temperatuurwisselingen." }], sort_order: 1 },
      { name: "Composiet gevelbekleding Rhombus Teak/Zwart", slug: "rhombus-teak-zwart", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "teak", durability: "premium", product_type: "plank", short_description: "Een unieke combinatie van Teak en Zwart. De ene zijde heeft een warme teakkleur, de andere een strak zwart. Ideaal als u twee stijlen in één plank wilt combineren.", seo_title: "Composiet Gevelbekleding Rhombus Teak/Zwart | €25,95", seo_description: "Unieke composiet gevelbekleding met twee kleuren: Teak en Zwart in één plank. Co-extrusie beschermlaag, 15 jaar garantie. Bestel bij Schuttingvancomposiet.nl.", long_description: "## Composiet gevelbekleding Rhombus Teak/Zwart\n\nGeef jouw woning een moderne uitstraling met deze unieke tweekleurige composiet gevelbekleding.", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Teak / Zwart", Profiel: "Rhombus" }, highlights: ["Twee kleuren in één plank", "Co-extrusie beschermlaag", "UV-bestendig", "Onderhoudsvrij"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-teak-zwart.png"], faq: [{ question: "Kan ik kiezen welke kant zichtbaar is?", answer: "Ja, u bepaalt zelf welke zijde u naar buiten richt." }, { question: "Is de zwarte achterkant ook beschermd?", answer: "Ja, beide zijden zijn voorzien van een co-extrusie beschermlaag." }], sort_order: 2 },
      { name: "Composiet gevelbekleding Rhombus Zwart", slug: "rhombus-zwart", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "zwart", durability: "premium", product_type: "plank", short_description: "Strakke zwarte composiet gevelbekleding met rhombus profiel. De donkere kleur geeft uw woning een moderne, tijdloze uitstraling.", seo_title: "Composiet Gevelbekleding Rhombus Zwart Kopen | €25,95", seo_description: "Zwarte composiet gevelbekleding met rhombus profiel en co-extrusie beschermlaag. Onderhoudsvrij, kleurvast en 15 jaar garantie. Bestel online.", long_description: "## Composiet gevelbekleding Rhombus Zwart\n\nModerne, tijdloze uitstraling met co-extrusie beschermlaag.", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Zwart", Profiel: "Rhombus" }, highlights: ["Moderne zwarte uitstraling", "Co-extrusie beschermlaag", "Kleurvast", "Onderhoudsvrij"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-zwart.png"], faq: [{ question: "Wordt de zwarte kleur niet te warm in de zon?", answer: "De co-extrusie beschermlaag voorkomt verkleuring of vervorming." }], sort_order: 3 },
      { name: "Composiet gevelbekleding Rhombus Walnoot", slug: "rhombus-walnoot", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "walnoot", durability: "premium", product_type: "plank", short_description: "Warme walnoottint met natuurlijke houtnerf structuur.", seo_title: "Composiet Gevelbekleding Rhombus Walnoot | €25,95", seo_description: "Composiet gevelbekleding Rhombus Walnoot met warme houtlook en co-extrusie beschermlaag. Onderhoudsvrij, 15 jaar garantie.", long_description: "## Composiet gevelbekleding Rhombus Walnoot", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Walnoot", Profiel: "Rhombus" }, highlights: ["Luxe walnoottint", "Natuurlijke houtnerf", "Co-extrusie beschermlaag", "Onderhoudsvrij"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-walnoot.png"], faq: [{ question: "Verschilt de Walnoot kleur van Teak?", answer: "Ja, de Walnoot kleur is donkerder en rijker dan Teak." }], sort_order: 4 },
      { name: "Composiet gevelbekleding Rhombus Eiken", slug: "rhombus-eiken", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "eiken", durability: "premium", product_type: "plank", short_description: "Lichte, warme eikenkleur die perfect past bij moderne als landelijke architectuur.", seo_title: "Composiet Gevelbekleding Rhombus Eiken Kopen | €25,95", seo_description: "Composiet gevelbekleding Rhombus Eiken met warme eikenkleur en co-extrusie beschermlaag.", long_description: "## Composiet gevelbekleding Rhombus Eiken", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Eiken", Profiel: "Rhombus" }, highlights: ["Warme eikenkleur", "Natuurlijke uitstraling", "Co-extrusie beschermlaag", "Onderhoudsvrij"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-eiken.png"], faq: [], sort_order: 5 },
      { name: "Composiet gevelbekleding Rhombus Grijs/Zwart", slug: "rhombus-grijs-zwart", price: 25.95, price_label: "€25,95 per stuk", category: "gevelbekleding", tone: "grijs", durability: "premium", product_type: "plank", short_description: "Stijlvolle combinatie van grijs en zwart in één plank.", seo_title: "Composiet Gevelbekleding Rhombus Grijs/Zwart | €25,95", seo_description: "Composiet gevelbekleding met twee kleuren: Grijs en Zwart in één plank.", long_description: "## Composiet gevelbekleding Rhombus Grijs/Zwart", specifications: { Lengte: "290 cm", Breedte: "20 cm", Dikte: "2,1 cm", Oppervlakte: "0,58 m² per plank", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Grijs / Zwart", Profiel: "Rhombus" }, highlights: ["Twee kleuren in één plank", "Industriële look", "Co-extrusie beschermlaag", "Onderhoudsvrij"], features: ["Co-Extrusie beschermlaag", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "290 cm", width: "20 cm", thickness: "2,1 cm", coverage: "0,58 m² per plank" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/rhombus-grijs-zwart.png"], faq: [], sort_order: 6 },
      { name: "Hoekprofiel Composiet gevelbekleding Teak", slug: "hoekprofiel-teak", price: 19.95, price_label: "€19,95 per stuk", category: "gevelbekleding", tone: "teak", durability: "premium", product_type: "profiel", short_description: "Het composiet hoekprofiel in Teak zorgt voor een strakke en professionele afwerking.", seo_title: "Hoekprofiel Composiet Gevelbekleding Teak | €19,95", seo_description: "Composiet hoekprofiel Teak voor strakke hoekafwerking.", long_description: "## Hoekprofiel Composiet gevelbekleding Teak", specifications: { Lengte: "290 cm", Materiaal: "Composiet", Kleur: "Teak", Type: "Hoekprofiel" }, highlights: ["Strakke hoekafwerking", "Passend bij Rhombus gevelbekleding", "Eenvoudige montage"], features: ["Strakke afwerking", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/hoekprofiel-teak.png"], faq: [], sort_order: 7 },
      { name: "Hoekprofiel Composiet gevelbekleding Zwart", slug: "hoekprofiel-zwart", price: 19.95, price_label: "€19,95 per stuk", category: "gevelbekleding", tone: "zwart", durability: "premium", product_type: "profiel", short_description: "Het composiet hoekprofiel in Zwart voor een strakke afwerking.", seo_title: "Hoekprofiel Composiet Gevelbekleding Zwart | €19,95", seo_description: "Composiet hoekprofiel Zwart voor strakke hoekafwerking.", long_description: "## Hoekprofiel Composiet gevelbekleding Zwart", specifications: { Lengte: "290 cm", Materiaal: "Composiet", Kleur: "Zwart", Type: "Hoekprofiel" }, highlights: ["Strakke hoekafwerking", "Passend bij zwarte gevelbekleding", "Eenvoudige montage"], features: ["Strakke afwerking", "Eigen bezorgservice"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/gevelbekleding/hoekprofiel-zwart.png"], faq: [], sort_order: 8 },

      // SCHUTTINGEN
      { name: "Composiet schutting Rhombus Teak", slug: "schutting-rhombus-teak", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "teak", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Rhombus Teak combineert privacy met een stijlvolle, moderne uitstraling.", seo_title: "Composiet Schutting Rhombus Teak Kopen | Vanaf €139,95", seo_description: "Composiet schutting Rhombus Teak met extra dikke 2,5cm planken en co-extrusie beschermlaag.", long_description: "## Composiet schutting Rhombus Teak", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Teak", Profiel: "Rhombus" }, highlights: ["Extra dikke 2,5 cm planken", "Rhombus profiel met schaduwwerking", "Eenvoudige montage", "Onderhoudsvrij", "15 jaar garantie"], features: ["Extra dikke 2,5cm plank", "Eenvoudig te monteren"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/rhombus-teak.png"], faq: [{ question: "Wat zit er bij een schuttingpakket?", answer: "Alle composiet planken en U-profielen voor één scherm. Aluminium palen apart verkrijgbaar." }], sort_order: 9 },
      { name: "Composiet schutting Teak", slug: "schutting-teak", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "teak", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Teak met houtnerf profiel.", seo_title: "Composiet Schutting Teak Houtnerf Kopen | Vanaf €139,95", seo_description: "Composiet schutting Teak met realistisch houtnerf profiel.", long_description: "## Composiet schutting Teak met Houtnerf profiel", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Teak", Profiel: "Houtnerf" }, highlights: ["Realistische houtnerf", "Extra dikke 2,5 cm planken", "Onderhoudsvrij", "Eenvoudige montage"], features: ["Extra dikke 2,5cm plank", "Eenvoudig te monteren"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/houtnerf-teak.png"], faq: [], sort_order: 10 },
      { name: "Composiet schutting Rhombus Zwart", slug: "schutting-rhombus-zwart", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "zwart", durability: "premium", product_type: "paneel", short_description: "Strakke zwarte composiet schutting met rhombus profiel.", seo_title: "Composiet Schutting Rhombus Zwart Kopen | Vanaf €139,95", seo_description: "Zwarte composiet schutting met rhombus profiel en 2,5cm dikke planken.", long_description: "## Composiet schutting Rhombus Zwart", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Zwart", Profiel: "Rhombus" }, highlights: ["Moderne zwarte uitstraling", "Rhombus profiel", "Extra dikke planken", "Onderhoudsvrij"], features: ["Extra dikke 2,5cm plank", "Eenvoudig te monteren"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/rhombus-zwart.png"], faq: [], sort_order: 11 },
      { name: "Composiet schutting Zwart", slug: "schutting-zwart", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "zwart", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Zwart met houtnerf profiel.", seo_title: "Composiet Schutting Zwart Houtnerf Kopen | Vanaf €139,95", seo_description: "Zwarte composiet schutting met houtnerf profiel.", long_description: "## Composiet schutting Zwart met Houtnerf profiel", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Zwart", Profiel: "Houtnerf" }, highlights: ["Houtnerf profiel", "Extra dikke 2,5 cm planken", "Onderhoudsvrij", "Eenvoudige montage"], features: ["Extra dikke 2,5cm plank", "Eenvoudig te monteren"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/houtnerf-zwart.png"], faq: [], sort_order: 12 },
      { name: "Composiet schutting Rhombus Walnoot", slug: "schutting-rhombus-walnoot", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "walnoot", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Rhombus Walnoot biedt een warme, donkere houtlook.", seo_title: "Composiet Schutting Rhombus Walnoot | Vanaf €139,95", seo_description: "Composiet schutting Rhombus Walnoot met warme houtlook.", long_description: "## Composiet schutting Rhombus Walnoot", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Walnoot", Profiel: "Rhombus" }, highlights: ["Warme walnoottint", "Rhombus profiel", "Extra dikke planken", "Onderhoudsvrij"], features: ["Extra dikke 2,5cm plank", "Onderhoudsvrij"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/rhombus-walnoot.png"], faq: [], sort_order: 13 },
      { name: "Composiet schutting Walnoot", slug: "schutting-walnoot", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "walnoot", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Walnoot met houtnerf profiel.", seo_title: "Composiet Schutting Walnoot Houtnerf | Vanaf €139,95", seo_description: "Composiet schutting Walnoot met realistisch houtnerf profiel.", long_description: "## Composiet schutting Walnoot met Houtnerf profiel", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Walnoot", Profiel: "Houtnerf" }, highlights: ["Realistische houtnerf", "Warme walnoottint", "Extra dikke planken", "Onderhoudsvrij"], features: ["Extra dikke 2,5cm plank", "Onderhoudsvrij"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/houtnerf-walnoot.png"], faq: [], sort_order: 14 },
      { name: "Composiet schutting Rhombus Eiken", slug: "schutting-rhombus-eiken", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "eiken", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Rhombus Eiken combineert warme eikenkleur met modern rhombus profiel.", seo_title: "Composiet Schutting Rhombus Eiken Kopen | Vanaf €139,95", seo_description: "Composiet schutting Rhombus Eiken met warme eikenkleur.", long_description: "## Composiet schutting Rhombus Eiken", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Eiken", Profiel: "Rhombus" }, highlights: ["Warme eikenkleur", "Rhombus profiel", "Extra dikke planken", "Onderhoudsvrij"], features: ["Extra dikke 2,5cm plank", "Onderhoudsvrij"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/rhombus-eiken.png"], faq: [], sort_order: 15 },
      { name: "Composiet schutting Rhombus Grijs", slug: "schutting-rhombus-grijs", price: 139.95, price_label: "Vanaf €139,95", category: "schuttingen", tone: "grijs", durability: "premium", product_type: "paneel", short_description: "De composiet schutting Rhombus Grijs biedt een neutrale, moderne uitstraling.", seo_title: "Composiet Schutting Rhombus Grijs Kopen | Vanaf €139,95", seo_description: "Grijze composiet schutting met rhombus profiel.", long_description: "## Composiet schutting Rhombus Grijs", specifications: { Hoogte: "180 cm of 200 cm", Breedte: "180 cm", Plankdikte: "2,5 cm", Materiaal: "Composiet met co-extrusie toplaag", Kleur: "Grijs", Profiel: "Rhombus" }, highlights: ["Neutrale grijstint", "Rhombus profiel", "Extra dikke planken", "Onderhoudsvrij"], features: ["Extra dikke 2,5cm plank", "Onderhoudsvrij"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", options: [{ label: "Hoogte", values: ["180 cm", "200 cm"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/schuttingen/rhombus-grijs.png"], faq: [], sort_order: 16 },
      // Premium/Aluminium schuttingen (price 0 = op aanvraag)
      { name: "Composiet schuttingplank Premium", slug: "schuttingplank-premium", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "teak", durability: "premium", product_type: "plank", short_description: "De composiet schuttingplank Premium biedt een natuurlijke houtlook met superieure duurzaamheid.", seo_title: "Composiet Schuttingplank Premium Kopen", seo_description: "Composiet schuttingplank Premium met dubbelzijdig profiel en 25 jaar garantie.", long_description: "## Composiet schuttingplank Premium", specifications: { Lengte: "200 cm", Breedte: "20 cm", Dikte: "2,2 cm", Materiaal: "Houtcomposiet (WPC)", Profiel: "Premium dubbelzijdig" }, highlights: ["Premium kwaliteit", "Dubbelzijdig profiel", "25 jaar garantie"], features: ["Houtcomposiet", "Premium kwaliteit", "Dubbelzijdig profiel"], guarantee: "25 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/7d92b26c-0c0e-432b-91a7-front/m-boston-lame-premium-21x150mm_default-2.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 17 },
      { name: "Composiet schuttingplank Premium XL", slug: "schuttingplank-premium-xl", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "premium", product_type: "plank", short_description: "Extra brede composiet schuttingplank Premium XL.", seo_title: "Composiet Schuttingplank Premium XL | Extra Breed", seo_description: "Extra brede composiet schuttingplank Premium XL.", long_description: "## Composiet schuttingplank Premium XL", specifications: { Lengte: "200 cm", Breedte: "30 cm", Dikte: "2,2 cm", Materiaal: "Houtcomposiet (WPC)", Profiel: "Premium XL" }, highlights: ["Extra breed formaat", "Strakke look", "25 jaar garantie"], features: ["Extra breed", "Houtcomposiet", "Premium kwaliteit"], guarantee: "25 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/973c89cc-2133-4274-8f28-front/m-lame-premium-21x310mm-fsc_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 18 },
      { name: "Composiet schuttingplank Modern", slug: "schuttingplank-modern", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "grijs", durability: "premium", product_type: "plank", short_description: "De composiet schuttingplank Modern met strak hedendaags profiel.", seo_title: "Composiet Schuttingplank Modern | Strak Design", seo_description: "Composiet schuttingplank Modern met strak hedendaags profiel.", long_description: "## Composiet schuttingplank Modern", specifications: { Lengte: "200 cm", Breedte: "20 cm", Dikte: "2,0 cm", Materiaal: "Houtcomposiet (WPC)", Profiel: "Modern" }, highlights: ["Modern profiel", "Strakke afwerking", "25 jaar garantie"], features: ["Modern profiel", "Houtcomposiet", "Strak design"], guarantee: "25 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/1c509db2-515e-496d-b322-front/m-boston-modern-21x150mm_default-2.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 19 },
      { name: "Aluminium schuttingplank", slug: "aluminium-schuttingplank", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "plank", short_description: "De aluminium schuttingplank voor een ultrastrak en modern schuttingdesign.", seo_title: "Aluminium Schuttingplank Kopen | Extreem Duurzaam", seo_description: "Aluminium schuttingplank met poedercoating.", long_description: "## Aluminium schuttingplank", specifications: { Lengte: "200 cm", Breedte: "20 cm", Dikte: "0,8 cm", Materiaal: "Aluminium", Coating: "Poedercoating RAL7016/RAL9005" }, highlights: ["100% aluminium", "Poedercoating", "30 jaar garantie", "Roestvrij"], features: ["Volledig aluminium", "Extreem duurzaam", "Poedercoating"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/e96e85e1-98f9-4738-9c73-front/m-boston-lame-alu-opale_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 20 },
      { name: "Aluminium lamellen 45mm", slug: "aluminium-lamellen-45mm", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "profiel", short_description: "Aluminium lamellen van 45mm breed voor subtiele privacy met lichtinval.", seo_title: "Aluminium Lamellen 45mm | Schutting met Lichtinval", seo_description: "Aluminium lamellen 45mm voor schuttingen.", long_description: "## Aluminium lamellen 45mm", specifications: { Lengte: "200 cm", Lamelbreedte: "45 mm", Materiaal: "Aluminium", Coating: "Poedercoating" }, highlights: ["45mm lamellen", "Lichtdoorlatend", "Aluminium", "30 jaar garantie"], features: ["45mm lamelbreedte", "Lichtdoorlatend", "Aluminium"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/ad8d64ff-8bb0-4cff-9df8-front/m-boston-lame-alu-open45_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 21 },
      { name: "Aluminium lamellen 100mm", slug: "aluminium-lamellen-100mm", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "profiel", short_description: "Aluminium lamellen van 100mm breed voor extra privacy.", seo_title: "Aluminium Lamellen 100mm | Extra Privacy", seo_description: "Aluminium lamellen 100mm voor schuttingen.", long_description: "## Aluminium lamellen 100mm", specifications: { Lengte: "200 cm", Lamelbreedte: "100 mm", Materiaal: "Aluminium", Coating: "Poedercoating" }, highlights: ["100mm lamellen", "Extra privacy", "Aluminium", "30 jaar garantie"], features: ["100mm lamelbreedte", "Meer privacy", "Aluminium"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/edb1b2ad-9fb5-4b8e-9970-front/m-boston-lame-alu-open100_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 22 },
      { name: "Aluminium rhombus lamellen", slug: "aluminium-rhombus-lamellen", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "profiel", short_description: "Aluminium rhombus lamellen combineren rhombus profiel met aluminium duurzaamheid.", seo_title: "Aluminium Rhombus Lamellen | Schaduwwerking", seo_description: "Aluminium rhombus lamellen met schaduwwerking.", long_description: "## Aluminium rhombus lamellen", specifications: { Lengte: "200 cm", Profiel: "Rhombus", Materiaal: "Aluminium", Coating: "Poedercoating" }, highlights: ["Rhombus profiel", "Aluminium", "Schaduwwerking", "30 jaar garantie"], features: ["Rhombus profiel", "Schaduwwerking", "Aluminium"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/551ccfd7-2335-44c9-ab57-front/m-boston-lame-alu-rhombus_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 23 },
      { name: "Aluminium rhombus lamellen breed", slug: "aluminium-rhombus-lamellen-breed", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "profiel", short_description: "Brede aluminium rhombus lamellen van 155mm.", seo_title: "Aluminium Rhombus Lamellen Breed 155mm", seo_description: "Brede aluminium rhombus lamellen 155mm.", long_description: "## Aluminium rhombus lamellen breed", specifications: { Lengte: "200 cm", Breedte: "155 mm", Profiel: "Rhombus", Materiaal: "Aluminium", Coating: "Poedercoating" }, highlights: ["155mm breed", "Rhombus profiel", "Aluminium", "30 jaar garantie"], features: ["155mm breed", "Rhombus profiel", "Aluminium"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/705a4fc9-dc35-4cc4-9de8-front/m-boston-lame-alu-rhombus-150_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 24 },
      { name: "Decorpaneel Blokkenpatroon", slug: "decorpaneel-blokkenpatroon", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "paneel", short_description: "Het aluminium decorpaneel met blokkenpatroon.", seo_title: "Decorpaneel Blokkenpatroon | Aluminium Schutting", seo_description: "Aluminium decorpaneel met blokkenpatroon.", long_description: "## Decorpaneel Blokkenpatroon", specifications: { Breedte: "180 cm", Hoogte: "30 cm", Materiaal: "Aluminium", Patroon: "Blokken horizontaal", Coating: "Poedercoating" }, highlights: ["Blokkenpatroon", "Aluminium", "Decoratief accent"], features: ["Blokkenpatroon", "Aluminium decorpaneel", "Horizontaal"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/03a5d086-706c-4811-a70d-front/m-boston-decor-crios-horizontal_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 25 },
      { name: "Decorpaneel Streeppatroon", slug: "decorpaneel-streeppatroon", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "paneel", short_description: "Het aluminium decorpaneel met horizontaal streeppatroon.", seo_title: "Decorpaneel Streeppatroon | Aluminium Schutting", seo_description: "Aluminium decorpaneel met streeppatroon.", long_description: "## Decorpaneel Streeppatroon", specifications: { Breedte: "180 cm", Hoogte: "30 cm", Materiaal: "Aluminium", Patroon: "Strepen horizontaal", Coating: "Poedercoating" }, highlights: ["Streeppatroon", "Aluminium", "Modern accent"], features: ["Streeppatroon", "Aluminium decorpaneel", "Horizontaal"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/609ba26b-d744-4936-a1d9-front/m-boston-decor-hera-horizontal_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 26 },
      { name: "Decorpaneel Golfpatroon", slug: "decorpaneel-golfpatroon", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "paneel", short_description: "Het aluminium decorpaneel met organisch golfpatroon.", seo_title: "Decorpaneel Golfpatroon | Aluminium Schutting", seo_description: "Aluminium decorpaneel met golfpatroon.", long_description: "## Decorpaneel Golfpatroon", specifications: { Breedte: "180 cm", Hoogte: "30 cm", Materiaal: "Aluminium", Patroon: "Golf horizontaal", Coating: "Poedercoating" }, highlights: ["Golfpatroon", "Aluminium", "Organisch design"], features: ["Golfpatroon", "Aluminium decorpaneel", "Horizontaal"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/de462963-4ed1-447e-8de2-front/m-boston-decor-lamia-horizontal_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 27 },
      { name: "Decorpaneel Cirkelpatroon", slug: "decorpaneel-cirkelpatroon", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "paneel", short_description: "Het aluminium decorpaneel met cirkelpatroon.", seo_title: "Decorpaneel Cirkelpatroon | Aluminium Schutting", seo_description: "Aluminium decorpaneel met cirkelpatroon.", long_description: "## Decorpaneel Cirkelpatroon", specifications: { Breedte: "180 cm", Hoogte: "30 cm", Materiaal: "Aluminium", Patroon: "Cirkels horizontaal", Coating: "Poedercoating" }, highlights: ["Cirkelpatroon", "Lichtdoorlatend", "Aluminium"], features: ["Cirkelpatroon", "Aluminium decorpaneel", "Horizontaal"], guarantee: "30 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/f98efaab-f989-4711-b2b4-front/m-boston-decor-paxos-horizontal_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 28 },
      { name: "Decorpaneel Matglas Smal", slug: "decorpaneel-matglas-smal", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "grijs", durability: "premium", product_type: "paneel", short_description: "Het matglazen decorpaneel van 300mm hoogte.", seo_title: "Decorpaneel Matglas Smal 300mm | Lichtdoorlatend", seo_description: "Matglazen decorpaneel 300mm voor schuttingen.", long_description: "## Decorpaneel Matglas Smal", specifications: { Breedte: "180 cm", Hoogte: "30 cm", Materiaal: "Gehard matglas", Type: "Lichtdoorlatend" }, highlights: ["Matglas", "Lichtdoorlatend", "Privacy behoud"], features: ["Matglas", "300mm hoog", "Lichtdoorlatend"], guarantee: "10 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/bbcb3fa5-16ae-4285-965a-front/m-boston-decor-verre300_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 29 },
      { name: "Decorpaneel Matglas Breed", slug: "decorpaneel-matglas-breed", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "grijs", durability: "premium", product_type: "paneel", short_description: "Het brede matglazen decorpaneel van 450mm hoogte.", seo_title: "Decorpaneel Matglas Breed 450mm | Extra Lichtinval", seo_description: "Breed matglazen decorpaneel 450mm.", long_description: "## Decorpaneel Matglas Breed", specifications: { Breedte: "180 cm", Hoogte: "45 cm", Materiaal: "Gehard matglas", Type: "Lichtdoorlatend" }, highlights: ["Matglas", "Extra lichtinval", "450mm hoogte"], features: ["Matglas", "450mm hoog", "Lichtdoorlatend"], guarantee: "10 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/90080926-1be2-4ea8-9dc9-front/m-boston-decor-verre450_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 30 },
      { name: "Zonnepaneel voor schutting", slug: "zonnepaneel-schutting", price: 0, price_label: "Op aanvraag", category: "schuttingen", tone: "zwart", durability: "massief", product_type: "paneel", short_description: "Het zonnepaneel voor schuttingen wekt groene energie op.", seo_title: "Zonnepaneel voor Schutting | Energie Opwekken", seo_description: "Geïntegreerd zonnepaneel voor schuttingen.", long_description: "## Zonnepaneel voor schutting", specifications: { Breedte: "180 cm", Hoogte: "90 cm", Type: "Dubbelglas zonnepaneel", Vermogen: "Op aanvraag", Aansluiting: "Micro-omvormer (apart)" }, highlights: ["Geïntegreerd zonnepaneel", "Groene energie", "Dubbelglas", "25 jaar garantie"], features: ["Geïntegreerd zonnepaneel", "Energie opwekken", "Dubbelglas"], guarantee: "25 jaar garantie", delivery_time: "Op aanvraag", images: ["https://cdn.forestia-group.com/storage/6ada5f90-08a7-45e5-9a15-front/m-helios_default.jpg?w=750&f=webp&q=85"], faq: [], sort_order: 31 },

      // VLONDERPLANKEN
      { name: "Composiet vlonderplank Donker Grijs", slug: "vlonder-donker-grijs", price: 16.95, price_label: "Vanaf €16,95", category: "vlonderplanken", tone: "grijs", durability: "standaard", product_type: "plank", short_description: "De composiet vlonderplank Donker Grijs is een veelzijdige plank met twee afwerkingen.", seo_title: "Composiet Vlonderplank Donker Grijs | Vanaf €16,95", seo_description: "Composiet vlonderplank Donker Grijs met dubbelzijdige afwerking. Splintervrij.", long_description: "## Composiet vlonderplank Donker Grijs", specifications: { Lengte: "300 cm", Breedte: "13,8 cm", Dikte: "2,3 cm", Materiaal: "Composiet (holle kern)", Kleur: "Donker Grijs", Afwerking: "Dubbelzijdig: groef / houtnerf" }, highlights: ["Twee afwerkingen in één plank", "Keuze: schroeven of clips", "Splintervrij", "Scherp geprijsd"], features: ["Twee afwerkingen", "Los of met clips"], guarantee: "Scherp geprijsd", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "13,8 cm", thickness: "2,3 cm" }, options: [{ label: "Bevestiging", values: ["Los (schroeven)", "Met clips"] }], video_url: "https://www.youtube.com/watch?v=composiet-vlonder-montage", images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-donker-grijs.png"], faq: [{ question: "Wat is het verschil tussen holle kern en massief?", answer: "Holle kern vlonderplanken zijn lichter en goedkoper. Massieve planken zijn zwaarder, steviger en hebben een naadloos design." }], sort_order: 32 },
      { name: "Composiet vlonderplank Teak", slug: "vlonder-teak", price: 16.95, price_label: "Vanaf €16,95", category: "vlonderplanken", tone: "teak", durability: "standaard", product_type: "plank", short_description: "De composiet vlonderplank Teak brengt warmte en sfeer op uw terras.", seo_title: "Composiet Vlonderplank Teak Kopen | Vanaf €16,95", seo_description: "Composiet vlonderplank Teak met warme houtkleur.", long_description: "## Composiet vlonderplank Teak", specifications: { Lengte: "300 cm", Breedte: "13,8 cm", Dikte: "2,3 cm", Materiaal: "Composiet (holle kern)", Kleur: "Teak", Afwerking: "Dubbelzijdig: groef / houtnerf" }, highlights: ["Warme teakkleur", "Twee afwerkingen", "Keuze: schroeven of clips", "Splintervrij"], features: ["Twee afwerkingen", "Los of met clips"], guarantee: "Scherp geprijsd", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "13,8 cm", thickness: "2,3 cm" }, options: [{ label: "Bevestiging", values: ["Los (schroeven)", "Met clips"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-teak.png"], faq: [], sort_order: 33 },
      { name: "Composiet vlonderplank Vergrijsd Eiken", slug: "vlonder-vergrijsd-eiken", price: 16.95, price_label: "Vanaf €16,95", category: "vlonderplanken", tone: "eiken", durability: "standaard", product_type: "plank", short_description: "De composiet vlonderplank Vergrijsd Eiken heeft een verweerde uitstraling.", seo_title: "Composiet Vlonderplank Vergrijsd Eiken | Vanaf €16,95", seo_description: "Composiet vlonderplank Vergrijsd Eiken met verweerde houtlook.", long_description: "## Composiet vlonderplank Vergrijsd Eiken", specifications: { Lengte: "300 cm", Breedte: "13,8 cm", Dikte: "2,3 cm", Materiaal: "Composiet (holle kern)", Kleur: "Vergrijsd Eiken", Afwerking: "Dubbelzijdig: groef / houtnerf" }, highlights: ["Verweerde eikenlook", "Twee afwerkingen", "Keuze: schroeven of clips", "Splintervrij"], features: ["Twee afwerkingen", "Los of met clips"], guarantee: "Scherp geprijsd", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "13,8 cm", thickness: "2,3 cm" }, options: [{ label: "Bevestiging", values: ["Los (schroeven)", "Met clips"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-vergrijsd-eiken.png"], faq: [], sort_order: 34 },
      { name: "Composiet vlonderplank Walnoot", slug: "vlonder-walnoot", price: 16.95, price_label: "Vanaf €16,95", category: "vlonderplanken", tone: "walnoot", durability: "standaard", product_type: "plank", short_description: "De composiet vlonderplank Walnoot biedt een rijke, donkere houtlook.", seo_title: "Composiet Vlonderplank Walnoot Kopen | Vanaf €16,95", seo_description: "Composiet vlonderplank Walnoot met rijke donkere houtlook.", long_description: "## Composiet vlonderplank Walnoot", specifications: { Lengte: "300 cm", Breedte: "13,8 cm", Dikte: "2,3 cm", Materiaal: "Composiet (holle kern)", Kleur: "Walnoot", Afwerking: "Dubbelzijdig: groef / houtnerf" }, highlights: ["Rijke walnoottint", "Twee afwerkingen", "Keuze: schroeven of clips", "Splintervrij"], features: ["Twee afwerkingen", "Los of met clips"], guarantee: "Scherp geprijsd", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "13,8 cm", thickness: "2,3 cm" }, options: [{ label: "Bevestiging", values: ["Los (schroeven)", "Met clips"] }], images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-walnoot.png"], faq: [], sort_order: 35 },
      { name: "Composiet vlonderplank naadloos massief Donker Grijs", slug: "vlonder-massief-grijs", price: 24.95, price_label: "Vanaf €24,95", category: "vlonderplanken", tone: "grijs", durability: "massief", product_type: "plank", short_description: "De naadloos massieve composiet vlonderplank in Donker Grijs — topmodel.", seo_title: "Massief Composiet Vlonderplank Donker Grijs | Vanaf €24,95", seo_description: "Naadloos massieve composiet vlonderplank Donker Grijs met antislip coating.", long_description: "## Composiet vlonderplank naadloos massief Donker Grijs", specifications: { Lengte: "300 cm", Breedte: "14,5 cm", Dikte: "2,2 cm", Materiaal: "Massief composiet", Kleur: "Donker Grijs", Afwerking: "Naadloos met antislip coating" }, highlights: ["100% massief", "Antislip coating", "Naadloos design", "15 jaar garantie", "Premium kwaliteit"], features: ["Massief met antislip", "Naadloos design"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "14,5 cm", thickness: "2,2 cm" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-massief-grijs.png"], faq: [], sort_order: 36 },
      { name: "Composiet vlonderplank naadloos massief Teak", slug: "vlonder-massief-teak", price: 24.95, price_label: "Vanaf €24,95", category: "vlonderplanken", tone: "teak", durability: "massief", product_type: "plank", short_description: "De naadloos massieve composiet vlonderplank in Teak.", seo_title: "Massief Composiet Vlonderplank Teak Kopen | Vanaf €24,95", seo_description: "Naadloos massieve composiet vlonderplank Teak met antislip coating.", long_description: "## Composiet vlonderplank naadloos massief Teak", specifications: { Lengte: "300 cm", Breedte: "14,5 cm", Dikte: "2,2 cm", Materiaal: "Massief composiet", Kleur: "Teak", Afwerking: "Naadloos met antislip coating" }, highlights: ["100% massief", "Antislip coating", "Naadloos design", "Warme teakkleur", "15 jaar garantie"], features: ["Massief met antislip", "Naadloos design"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "14,5 cm", thickness: "2,2 cm" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-massief-teak.png"], faq: [], sort_order: 37 },
      { name: "Composiet vlonderplank naadloos massief Zwart", slug: "vlonder-massief-zwart", price: 24.95, price_label: "Vanaf €24,95", category: "vlonderplanken", tone: "zwart", durability: "massief", product_type: "plank", short_description: "De naadloos massieve composiet vlonderplank in Zwart.", seo_title: "Massief Composiet Vlonderplank Zwart Kopen | Vanaf €24,95", seo_description: "Naadloos massieve composiet vlonderplank Zwart met antislip coating.", long_description: "## Composiet vlonderplank naadloos massief Zwart", specifications: { Lengte: "300 cm", Breedte: "14,5 cm", Dikte: "2,2 cm", Materiaal: "Massief composiet", Kleur: "Zwart", Afwerking: "Naadloos met antislip coating" }, highlights: ["100% massief", "Antislip coating", "Naadloos design", "Moderne zwarte look", "15 jaar garantie"], features: ["Massief met antislip", "Naadloos design"], guarantee: "15 jaar garantie", delivery_time: "Tussen de 2 en 15 werkdagen", dimensions: { length: "300 cm", width: "14,5 cm", thickness: "2,2 cm" }, images: ["https://jakqbjeukobtyxxxpzcr.supabase.co/storage/v1/object/public/product-images/vlonderplanken/vlonder-massief-zwart.png"], faq: [], sort_order: 38 },
    ];

    let insertedCount = 0;

    for (const p of products) {
      const { images, faq, ...productData } = p;
      const categoryId = catMap[productData.category];

      const { data: inserted, error: insertErr } = await supabase
        .from("cms_products")
        .upsert({
          ...productData,
          category_id: categoryId,
          is_published: true,
        }, { onConflict: "slug" })
        .select()
        .single();

      if (insertErr) {
        console.error(`Error inserting ${productData.slug}:`, insertErr);
        continue;
      }

      const productId = inserted.id;

      // Insert images
      if (images && images.length > 0) {
        const imageRows = images.map((url: string, i: number) => ({
          product_id: productId,
          image_url: url,
          alt_text: `${productData.name} afbeelding ${i + 1}`,
          is_primary: i === 0,
          sort_order: i,
        }));
        await supabase.from("cms_product_images").upsert(imageRows, { onConflict: "id" });
      }

      // Insert FAQs
      if (faq && faq.length > 0) {
        const faqRows = faq.map((f: { question: string; answer: string }, i: number) => ({
          product_id: productId,
          question: f.question,
          answer: f.answer,
          sort_order: i,
        }));
        await supabase.from("cms_product_faqs").upsert(faqRows, { onConflict: "id" });
      }

      insertedCount++;
    }

    // Insert default feed settings
    await supabase.from("google_feed_settings").upsert({
      store_name: "Schuttingvancomposiet.nl",
      store_url: "https://schuttingvancomposiet.lovable.app",
      brand_name: "Schuttingvancomposiet",
      currency: "EUR",
      shipping_country: "NL",
      shipping_price: 0,
    }, { onConflict: "id" });

    return new Response(JSON.stringify({ ok: true, products_inserted: insertedCount, categories: Object.keys(catMap).length }), {
      headers: { ...corsHeaders, "Content-Type": "application/json" },
    });
  } catch (err) {
    const msg = err instanceof Error ? err.message : String(err);
    return new Response(JSON.stringify({ error: msg }), {
      status: 500,
      headers: { ...corsHeaders, "Content-Type": "application/json" },
    });
  }
});
